{"version":3,"file":"static/js/306.071d81db.chunk.js","mappings":"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","sources":["components/API/FetchMovies.jsx","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/MoviesPage/MoviesPage.jsx"],"sourcesContent":["const KEY = '?api_key=c70b39411477d027ba1d4b2d81ddb9d1';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nasync function fetchWitchHendeling(url = '') {\n  const response = await fetch(url);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not Found!'));\n}\n\nexport function fetchTrending() {\n  return fetchWitchHendeling(`${BASE_URL}/trending/movie/week${KEY}`);\n}\n\nexport function fetchMoviesById(id) {\n  return fetchWitchHendeling(`${BASE_URL}/movie/${id}${KEY}`);\n}\n\nexport function fetchSearchMovies(query) {\n  return fetchWitchHendeling(`${BASE_URL}/search/movie${KEY}&query=${query}`);\n}\n\nexport function fetchMoviesCredits(id) {\n  return fetchWitchHendeling(\n    `${BASE_URL}/movie/${id}/credits${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMoviesReviews(id) {\n  return fetchWitchHendeling(\n    `${BASE_URL}/movie/${id}/reviews${KEY}&language=en-US&page=1`\n  );\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import { React, lazy } from 'react';\nimport { useState, useEffect } from 'react';\nimport { fetchSearchMovies } from 'components/API/FetchMovies';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\n\nconst GoBackButton = lazy(() => import('components/common/GoBackButton'));\n\nconst MoviesPage = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [query, setQuery] = useState('');\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState(null);\n  const searchOrder = new URLSearchParams(location.search).get('query') ?? '';\n\n  useEffect(() => {\n    if (search === '') {\n      fetchSearchMovies(searchOrder).then(setMovies);\n      return;\n    }\n    fetchSearchMovies(search).then(setMovies);\n  }, [search, searchOrder]);\n\n  const hendelChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const reset = () => {\n    setQuery('');\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setSearch(query);\n    history.push({\n      ...location,\n      search: `query=${query}`,\n    });\n    reset();\n  };\n\n  return (\n    <>\n      <GoBackButton />\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          name=\"query\"\n          value={query}\n          onChange={hendelChange}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movies &&\n        movies.results.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.original_title}</Link>\n          </li>\n        ))}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["KEY","BASE_URL","fetchWitchHendeling","url","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchMoviesById","id","fetchSearchMovies","query","fetchMoviesCredits","fetchMoviesReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","GoBackButton","lazy","history","useHistory","location","useLocation","useState","setQuery","search","setSearch","movies","setMovies","searchOrder","URLSearchParams","get","useEffect","then","onSubmit","e","preventDefault","type","name","onChange","pattern","required","results","map","movie","to","original_title"],"sourceRoot":""}